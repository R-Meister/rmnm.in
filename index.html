<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Eyes Menu</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #ececec;
  font-family: sans-serif;
}

/* ===== MENU CONTAINER ===== */
.menu {
  display: flex;
  align-items: center;
  background: #222;
  padding: 14px 30px;
  border-radius: 999px;
  cursor: pointer;
  overflow: hidden;
}

/* ===== EYES ===== */
.eye {
  width: 50px;
  height: 50px;
  background: white;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
  margin: 0 20px;
}

.pupil {
  width: 18px;
  height: 18px;
  background: black;
  border-radius: 50%;
}

/* eyelid */
.eye::before {
  content: "";
  position: absolute;
  top: 0;
  width: 100%;
  height: 0%;
  background: #222;
  border-radius: 50%;
  z-index: 2;
}

/* ===== NAV ===== */
.nav {
  display: flex;
  gap: 40px;
  color: white;
  white-space: nowrap;
}

.nav a {
  color: white;
  text-decoration: none;
  font-size: 18px;
  opacity: 0;
}
</style>
</head>

<body>

<div class="menu" id="menu">
  <div class="eye">
    <div class="pupil"></div>
  </div>

  <nav class="nav">
    <a href="#">Projects</a>
    <a href="#">About</a>
    <a href="#">Process</a>
    <a href="#">Contact</a>
  </nav>

  <div class="eye">
    <div class="pupil"></div>
  </div>
</div>

<script>
const menu = document.getElementById("menu");
const eyes = document.querySelectorAll(".eye");
const pupils = document.querySelectorAll(".pupil");
const navLinks = document.querySelectorAll(".nav a");

/* =========================
   ELASTIC EXPANSION
========================= */
menu.addEventListener("mouseenter", () => {
  gsap.to(menu, {
    paddingLeft: 60,
    paddingRight: 60,
    duration: 0.8,
    ease: "elastic.out(1, 0.5)"
  });

  gsap.to(navLinks, {
    opacity: 1,
    y: 0,
    duration: 0.5,
    stagger: 0.05,
    ease: "power3.out"
  });

  eyelidSquash(true);
});

menu.addEventListener("mouseleave", () => {
  gsap.to(menu, {
    paddingLeft: 30,
    paddingRight: 30,
    duration: 0.6,
    ease: "power3.inOut"
  });

  gsap.to(navLinks, {
    opacity: 0,
    duration: 0.3
  });

  eyelidSquash(false);
});

/* =========================
   CURSOR TRACKING (NATURAL)
========================= */
document.addEventListener("mousemove", (e) => {
  eyes.forEach((eye, index) => {
    const pupil = pupils[index];
    const rect = eye.getBoundingClientRect();

    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    const angle = Math.atan2(e.clientY - centerY, e.clientX - centerX);
    const max = 10;

    const x = Math.cos(angle) * max;
    const y = Math.sin(angle) * max;

    gsap.to(pupil, {
      x: x,
      y: y,
      duration: 0.2,
      ease: "power2.out"
    });
  });
});

/* =========================
   BLINK ANIMATION
========================= */
function blink() {
  eyes.forEach((eye) => {
    const lid = eye.querySelector("::before");
  });

  gsap.to(".eye::before", {
    height: "100%",
    duration: 0.15,
    yoyo: true,
    repeat: 1,
    ease: "power2.inOut"
  });
}

setInterval(() => {
  blink();
}, 3000);

/* =========================
   EYELID SQUASH ON HOVER
========================= */
function eyelidSquash(active) {
  eyes.forEach((eye) => {
    gsap.to(eye, {
      scaleY: active ? 0.85 : 1,
      duration: 0.4,
      ease: "power2.out"
    });
  });
}
</script>

</body>
</html>
